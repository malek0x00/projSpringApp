<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Report Details</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <style>
        #map {
            height: 300px;
        }
    </style>
</head>
<body>

<div class="container mt-5">
    <h2>Report Details</h2>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Report ID: <span th:text="${report.id}"></span></h5>
            <p class="card-text"><strong>Description:</strong> <span th:text="${report.description}"></span></p>
            <p class="card-text"><strong>Longitude:</strong> <span th:text="${report.longitude}"></span></p>
            <p class="card-text"><strong>Latitude:</strong> <span th:text="${report.latitude}"></span></p>
            <div id="map"></div>
            <p class="card-text"><strong>City:</strong> <span th:text="${report.city.name}"></span></p>
            <p class="card-text"><strong>User:</strong> <span th:text="${report.user.name}"></span></p>
            <p class="card-text"><strong>Status:</strong> <span th:text="${report.status}"></span></p>
            <p class="card-text"><strong>Type:</strong> <span th:text="${report.type}"></span></p>

            <!-- Add additional details as needed -->

            <a href="/reports" class="btn btn-primary">Back to Reports</a>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UJjHl5+R1X6L4peV/53iD2OiMTiFkV8Ro/1p2h1nUZfGFGgBy8jW9XlFY3I7Mj8"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<script>
    var map = L.map('map').setView([${report.latitude}], [${report.longitude}], 13);


    // Add a tile layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    // Add a marker for the report location
    L.marker([${report.latitude}], [${report.longitude}]).addTo(map)
        .bindPopup('Report Location')
        .openPopup();
</script>

</body>
</html>
